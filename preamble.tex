% a useful website for knowing what things are called in latex
% http://www.texfaq.org/FAQ-fixnam



% packages I had already put in here 
\usepackage[none]{hyphenat}
\usepackage[font=small,labelfont=bf]{caption}


% all packages that kableExtra depends on 
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
% this one not needed because I always use UTF-8 \usepackage[utf8]{inputenc}
\usepackage{makecell}
\usepackage{xcolor}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% load cancel package for clearer unit conversions
\usepackage{cancel}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% apparently this package makes better bookmarks, 
% I need it for putting the TOC into the document tree
% see https://tex.stackexchange.com/questions/65544/how-to-link-table-of-contents-in-thesis-pdf

\usepackage{bookmark}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% set vertical line spacing for amsmath equations 
\setlength{\jot}{8pt}

% everything abve works well

% extras that I am testing come below 


% set paragraph indentation back to > 0; default is 20pt
\parindent=10pt



% define navy as a link color and use it for internal links
% depends on xcolor which is already loaded above 
\definecolor{dodgerblue4}{HTML}{104E8B}
\usepackage{hyperref}

\hypersetup{
  colorlinks=true,
  urlcolor=blue,
  linkcolor=dodgerblue4
}


% \linkcolor{navy}


% number the lines with small grey text, see https://tex.stackexchange.com/questions/247165/can-i-change-linenumber-colour
\usepackage{lineno}

% define R's grey90 color in HTML hex notation
\definecolor{grey90}{HTML}{E5E5E5}

% set color of line numbers 
% this was the code I copied from the URL above \renewcommand{\linenumberfont}{\normalfont\bfseries\small\color{grey75}}

% and this is my own version which uses the mono font. 
% To turn off, comment out the following line and also the line right after the table of contents that turns the line numbers on. 
\renewcommand{\linenumberfont}{\ttfamily\small\color{grey90}}




% Use the section numbers instead of titles because some of 
% my sections are spilling off the page 

% \usepackage{fancyhdr}
% \pagestyle{fancy}
% 
% \renewcommand{\sectionmark}
% {\thesection}

% this is what I _really_ want: truncate the header 
% only when it is too long, and add an ellipsis
% see https://tex.stackexchange.com/questions/6862/how-can-i-display-a-short-chapter-name-in-the-header-and-a-long-chapter-name-in/6866

 % \usepackage[fit]{truncate}
 % \usepackage{fancyhdr}
 % \pagestyle{fancy}
 % \fancyhead[RO,LE]{\truncate{.95\headwidth}{\leftmark}}
 
 \usepackage{fancyhdr}
 \fancyhead[LE,RO]{\thechapter}
 
 %%%%%%%%%%%%%%%%%%%%
 
 
 % limit depth of numbered sections and table of contents 
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{1} % chapter level is 0
 
 %%%%%%%%%%%%%%%%%%%%
% this one works if all else fails....not using any add-on packages;
% see https://latexref.xyz/_005cchapter.html

\renewcommand{\chaptername}{Section}


% A simple version to just change the chapter label and format 
% see the docs, it is a shortcut instead of specifying the 
% entire formatting command. But it seems to do what I want

% I figured this out on my own (i.e. no hyperlink - see Section 2.4, "quick reference"
% in the docs for titlesec, link is http://mirrors.ctan.org/macros/latex/contrib/titlesec/titlesec.pdf

% \usepackage{titlesec}
% \titlelabel{Section \thechapter \quad}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% a more complex example using the titlesec package from overleaf
% see https://www.overleaf.com/learn/latex/sections_and_chapters#Document_chapters_and_sections_in_a_Book.2FReport


% A more complex example from the  titles package
% I changed the font size to Huge instead of Large but it doesn't seem to change 
% much. But I have to leave this alone for now and get back to something more 
% pressing 

% \usepackage{titlesec}
% 
% \titleformat
% {\chapter} % command
% [display] % shape
% {\bfseries\Huge\itshape} % format
% {Section \ \thechapter} % label
% {0.5ex} % sep
% {
%     \rule{\textwidth}{1pt}
%     \vspace{1ex}
%     \centering
% } % before-code
% [
% \vspace{-0.5ex}%
% \rule{\textwidth}{0.3pt}
% ] % after-code

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% re-style block quotations??
% there are 2 environments that handle block quotations- the quotation environment 
% is for multi-paragraph quotes and each paragraph is indented.
% the quote environment is meant for shorter quotes. Evidently R Markdown 
% puts at least the short ones in the quote environment; I discovered this by 
% inspecting the .tex file usingkeep_tex: true in the YAML


% see https://stackoverflow.com/questions/4018493/vertical-line-with-every-quotation/4023967
% for solution
\usepackage{framed}


% define R's grey30 color in HTML hex notation
\definecolor{grey30}{HTML}{4D4D4D}

% change bar size to 0.5 pt instead of the default 3 pt
% use the newly defined grey color 
\renewenvironment{leftbar}{\def\FrameCommand{\color{grey30}\vrule width 1pt \hspace{10pt}}\MakeFramed {\advance\hsize-\width \FrameRestore}}{\endMakeFramed}

% for multi-paragraph quotations 
% \renewenvironment{quotation}%
% {\begin{leftbar}\begin{quotation}}%
% {\end{quotation}\end{leftbar}}

% for single-paragraph quotations 
% remove indent with \noindent

% \usepackage{tgpagella} % loads the font packge needed for the quote font I will use, but it is over-riding my Arial font for _everything_ not just the quote environment
% see https://tex.stackexchange.com/questions/193736/changing-font-in-a-particular-environment/193740
% and https://www.overleaf.com/learn/latex/Font_typefaces for inspiration 

% I had this inside the environment, after the begin quotation statement 
% \fontfamily{qpl}\selectfont

\renewenvironment{quote}%
{\begin{leftbar} \begin{quotation} \noindent \small }%
{\end{quotation}\end{leftbar}}




% the following 2 lines place a border around all figures 
% \floatstyle{boxed} 
% \restylefloat{figure}

